<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Conversation</title>
    <meta charset="UTF-8">
</head>
<body>

<h2 th:text="'Conversation avec ' + ${#strings.arrayJoin(nomsParticipants, ', ')}">Conversation</h2>


<!-- Affichage des messages -->
<div>
    <ul>
        <li th:each="message : ${messages}">
            <strong th:text="${message.expediteur.nomU + ' ' + message.expediteur.prenomU}">Auteur</strong> :
            <span th:text="${message.textM}">Texte</span>
            <small th:text="${#dates.format(message.dateM, 'dd/MM/yyyy HH:mm')}">Date</small>


        </li>
    </ul>
</div>

<!-- Formulaire pour envoyer un message -->
<form th:action="@{'/message/envoyer/' + ${conversation.idConv}}" method="post">
    <textarea name="texte" rows="3" required></textarea><br/>
    <button type="submit">Envoyer</button>
</form>

<!-- Lien retour -->
<p><a th:href="@{/user/mes-amis}">Retour Ã  mes amis</a></p>

</body>


</html>
